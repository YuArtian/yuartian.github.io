# JIT

计算机执行高级语言的两种基本的方式：[解释执行](jit.md#jie-shi-zhi-hang) 和 [编译执行](jit.md#bian-yi-zhi-hang)

解释执行的启动速度快，但是执行时的速度慢，而编译执行的启动速度慢，但是执行时的速度快

但是 V8 混合使用编译器和解释器，这个技术称为 JIT（Just In Time）

* 在 **启动过程** 中 采用了解释执行的策略
* 在 **解释执行**过程 中 如果某段代码的执行频率超过一个值，那么 V8 就会采用 **优化编译器** 将其编译成执行效率更加高效的机器代码

充分地利用解释执行和编译执行的优点，规避其缺点

解释器（Ignition）和 优化编译器（Turbofan）

![](https://github.com/YuArtian/yuartian.github.io/blob/master/.gitbook/assets/v8-gong-zuo-liu-cheng.png?raw=true)

## 解释执行

先将输入的源代码通过解析器编译成中间代码，之后直接使用解释器解释执行中间代码，最后直接输出结果

## 编译执行

采用这种方式时，也需要先将源代码转换为中间代码

然后我们的编译器再将中间代码编译成机器代码。通常编译成的机器代码是以二进制文件形式存储的，需要执行这段程序的时候直接执行二进制文件就可以了

还可以使用虚拟机将编译后的机器代码保存在内存中，然后直接执行内存中的二进制代码



