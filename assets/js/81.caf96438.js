(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{442:function(e,v,_){"use strict";_.r(v);var o=_(45),t=Object(o.a)({},(function(){var e=this,v=e.$createElement,_=e._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"react生命周期有哪些-16版本生命周期发生了哪些变化"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#react生命周期有哪些-16版本生命周期发生了哪些变化"}},[e._v("#")]),e._v(" "),_("code",[e._v("React")]),e._v("生命周期有哪些，16版本生命周期发生了哪些变化")]),e._v(" "),_("h1",{attrs:{id:"_15"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_15"}},[e._v("#")]),e._v(" 15")]),e._v(" "),_("p",[e._v("初始化阶段")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("constructor")]),e._v(" 构造函数")]),e._v(" "),_("li",[_("code",[e._v("getDefaultProps")]),e._v(" "),_("code",[e._v("props")]),e._v("默认值")]),e._v(" "),_("li",[_("code",[e._v("getInitialState")]),e._v(" "),_("code",[e._v("state")]),e._v("默认值")])]),e._v(" "),_("p",[e._v("挂载阶段")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("componentWillMount")]),e._v(" 组件初始化渲染前调用")]),e._v(" "),_("li",[_("code",[e._v("render")]),e._v(" 组件渲染")]),e._v(" "),_("li",[_("code",[e._v("componentDidMount")]),e._v("组件挂载到 "),_("code",[e._v("DOM")]),e._v("后调用")])]),e._v(" "),_("p",[e._v("更新阶段")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("componentWillReceiveProps")]),e._v(" 组件将要接收新 "),_("code",[e._v("props")]),e._v("前调用")]),e._v(" "),_("li",[_("code",[e._v("shouldComponentUpdate")]),e._v(" 组件是否需要更新")]),e._v(" "),_("li",[_("code",[e._v("componentWillUpdate")]),e._v(" 组件更新前调用")]),e._v(" "),_("li",[_("code",[e._v("render")]),e._v(" 组件渲染")]),e._v(" "),_("li",[_("code",[e._v("componentDidUpdate")]),e._v(" 组件更新后调用")])]),e._v(" "),_("p",[e._v("卸载阶段")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("componentWillUnmount")]),e._v(" 组件卸载前调用")])]),e._v(" "),_("h1",{attrs:{id:"_16"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_16"}},[e._v("#")]),e._v(" 16")]),e._v(" "),_("ul",[_("li",[_("p",[e._v("初始化阶段")])]),e._v(" "),_("li",[_("ul",[_("li",[_("code",[e._v("constructor")]),e._v(" 构造函数")]),e._v(" "),_("li",[_("code",[e._v("getDefaultProps")]),e._v(" "),_("code",[e._v("props")]),e._v("默认值")]),e._v(" "),_("li",[_("code",[e._v("getInitialState")]),e._v(" "),_("code",[e._v("state")]),e._v("默认值")])])]),e._v(" "),_("li",[_("p",[e._v("挂载阶段")])]),e._v(" "),_("li",[_("ul",[_("li",[e._v("static getDerivedStateFromProps(props,state)")]),e._v(" "),_("li",[_("code",[e._v("render")])]),e._v(" "),_("li",[_("code",[e._v("componentDidMount")])])])])]),e._v(" "),_("blockquote",[_("p",[_("code",[e._v("getDerivedStateFromProps")]),e._v("：组件每次被 "),_("code",[e._v("rerender")]),e._v("的时候，包括在组件构建之后(虚拟 "),_("code",[e._v("dom")]),e._v("之后，实际 "),_("code",[e._v("dom")]),e._v("挂载之前)，每次获取新的 "),_("code",[e._v("props")]),e._v("或 "),_("code",[e._v("state")]),e._v("之后；")]),e._v(" "),_("p",[e._v("每次接收新的props之后都会返回一个对象作为新的 "),_("code",[e._v("state")]),e._v("，返回null则说明不需要更新 "),_("code",[e._v("state")]),e._v("；")]),e._v(" "),_("p",[e._v("配合 "),_("code",[e._v("componentDidUpdate")]),e._v("，可以覆盖 "),_("code",[e._v("componentWillReceiveProps")]),e._v("的所有用法")])]),e._v(" "),_("ul",[_("li",[_("p",[e._v("更新阶段")])]),e._v(" "),_("li",[_("ul",[_("li",[e._v("static getDerivedStateFromProps(props,state)")]),e._v(" "),_("li",[_("code",[e._v("shouldComponentUpdate")])]),e._v(" "),_("li",[_("code",[e._v("render")])]),e._v(" "),_("li",[_("code",[e._v("getSnapshotBeforeUpdate(prevProps,prevState)")])]),e._v(" "),_("li",[_("code",[e._v("componentDidUpdate")])])])])]),e._v(" "),_("blockquote",[_("p",[_("code",[e._v("getSnapshotBeforeUpdate")]),e._v("：触发时间: "),_("code",[e._v("update")]),e._v("发生的时候，在 "),_("code",[e._v("render")]),e._v("之后，在组件 "),_("code",[e._v("dom")]),e._v("渲染之前；返回一个值，作为 "),_("code",[e._v("componentDidUpdate")]),e._v("的第三个参数；配合 "),_("code",[e._v("componentDidUpdate")]),e._v(", 可以覆盖 "),_("code",[e._v("componentWillUpdate")]),e._v("的所有用法")])]),e._v(" "),_("ul",[_("li",[_("p",[e._v("卸载阶段")])]),e._v(" "),_("li",[_("ul",[_("li",[_("code",[e._v("componentWillUnmount")])])])]),e._v(" "),_("li",[_("p",[e._v("错误处理")])]),e._v(" "),_("li",[_("ul",[_("li",[_("code",[e._v("componentDidCatch")])])])])]),e._v(" "),_("p",[_("code",[e._v("React16")]),e._v("新的生命周期弃用了 "),_("code",[e._v("componentWillMount、componentWillReceivePorps，componentWillUpdate")]),e._v("新增了 "),_("code",[e._v("getDerivedStateFromProps、getSnapshotBeforeUpdate")]),e._v("来代替弃用的三个钩子函数。")]),e._v(" "),_("blockquote",[_("p",[_("code",[e._v("React16")]),e._v("并没有删除这三个钩子函数，但是不能和新增的钩子函数混用， "),_("code",[e._v("React17")]),e._v("将会删除这三个钩子函数，新增了对错误的处理（ "),_("code",[e._v("componentDidCatch")]),e._v("）")])])])}),[],!1,null,null,null);v.default=t.exports}}]);