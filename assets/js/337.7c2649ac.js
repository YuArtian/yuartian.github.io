(window.webpackJsonp=window.webpackJsonp||[]).push([[337],{705:function(t,a,s){"use strict";s.r(a);var r=s(45),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"一-源码结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-源码结构"}},[t._v("#")]),t._v(" 一.源码结构")]),t._v(" "),s("h2",{attrs:{id:"对比vue2升级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对比vue2升级"}},[t._v("#")]),t._v(" 对比Vue2升级")]),t._v(" "),s("h4",{attrs:{id:"模块重构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块重构"}},[t._v("#")]),t._v(" 模块重构")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue2 中虽然有模块划分，但是并不独立，没法单独引用和维护")])]),t._v(" "),s("p",[t._v("采用了 Monorepo 架构，使用 pnpm 实现，现在 Vue3 中的模块都是单独的包，可以独立使用，独立维护")]),t._v(" "),s("h4",{attrs:{id:"api重构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api重构"}},[t._v("#")]),t._v(" API重构")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue2 中 api 都是挂载到 Vue 实例上，导致没有使用相关api 也会一起打包")])]),t._v(" "),s("p",[t._v("API 重写，更好的进行 tree-sharking")]),t._v(" "),s("h4",{attrs:{id:"自定义渲染器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义渲染器"}},[t._v("#")]),t._v(" 自定义渲染器")]),t._v(" "),s("blockquote",[s("p",[t._v("在以往像weex和mpvue，需要通过fork源码的方式进行扩展")])]),t._v(" "),s("p",[t._v("现在 Vue3 支持自定义渲染器（Renderer）")]),t._v(" "),s("p",[t._v("这个 API 可以用来自定义渲染逻辑。它可以将 "),s("code",[t._v("Virtual DOM")]),t._v(" 渲染为 Web 平台的真实 DOM")]),t._v(" "),s("h4",{attrs:{id:"ts语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ts语法"}},[t._v("#")]),t._v(" TS语法")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue2 中使用的 flow 已停止维护")])]),t._v(" "),s("p",[t._v("源码使用 TypeScript")]),t._v(" "),s("h2",{attrs:{id:"依然保留的概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#依然保留的概念"}},[t._v("#")]),t._v(" 依然保留的概念")]),t._v(" "),s("ol",[s("li",[s("h5",{attrs:{id:"声明式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#声明式"}},[t._v("#")]),t._v(" 声明式")])]),t._v(" "),s("li",[s("h5",{attrs:{id:"虚拟dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#虚拟dom"}},[t._v("#")]),t._v(" 虚拟DOM")])]),t._v(" "),s("li",[s("h5",{attrs:{id:"区分编译时-运行时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#区分编译时-运行时"}},[t._v("#")]),t._v(" 区分编译时/运行时")])])]),t._v(" "),s("h2",{attrs:{id:"框架结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#框架结构"}},[t._v("#")]),t._v(" 框架结构")]),t._v(" "),s("p",[s("img",{attrs:{src:"/Users/yuartian/Downloads/vue3%E6%BA%90%E7%A0%81%E7%BB%93%E6%9E%84.png",alt:"vue3源码结构"}})]),t._v(" "),s("h2",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"/Users/yuartian/Downloads/源码目录.png",alt:"源码目录"}}),t._v(" "),s("p",[t._v("/packages：vue3 的各个核心模块")]),t._v(" "),s("p",[t._v("/scripts：打包脚本")])])}),[],!1,null,null,null);a.default=e.exports}}]);